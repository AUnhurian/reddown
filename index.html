<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Reddown - AI-Powered Markdown Editor for Redmine | Live Preview & Enhancement</title>
    <meta name="description" content="Modern Markdown editor with AI enhancement, live preview, and Redmine-specific syntax support. Features rich formatting toolbar, keyboard shortcuts, and OpenAI integration for content improvement.">
    <meta name="keywords" content="markdown editor, redmine, ai enhancement, openai, live preview, markdown formatter, text editor, documentation tool, technical writing">
    <meta name="author" content="AUnhurian">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://AUnhurian.github.io/reddown/">
    <meta property="og:title" content="Reddown - AI-Powered Markdown Editor for Redmine">
    <meta property="og:description" content="Modern Markdown editor with AI enhancement, live preview, and Redmine-specific syntax support. Create better documentation with intelligent formatting assistance.">
    <meta property="og:image" content="https://AUnhurian.github.io/reddown/images/apple-touch-icon.png">
    <meta property="og:site_name" content="Reddown">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://AUnhurian.github.io/reddown/">
    <meta property="twitter:title" content="Reddown - AI-Powered Markdown Editor for Redmine">
    <meta property="twitter:description" content="Modern Markdown editor with AI enhancement, live preview, and Redmine-specific syntax support.">
    <meta property="twitter:image" content="https://AUnhurian.github.io/reddown/images/apple-touch-icon.png">
    <meta name="google-site-verification" content="QuJlsIUAzo6ucvgxUphq8YGiSPdeCL2XLayKiKlnP3I" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="./images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./images/favicon.svg" />
    <link rel="shortcut icon" href="./images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./images/apple-touch-icon.png" />
    <link rel="manifest" href="./images/site.webmanifest" />

    <!-- Theme Color -->
    <meta name="theme-color" content="#667eea">
    <meta name="msapplication-TileColor" content="#667eea">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://AUnhurian.github.io/reddown/">

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Reddown",
        "description": "AI-powered Markdown editor with live preview and Redmine-specific syntax support",
        "url": "https://AUnhurian.github.io/reddown/",
        "author": {
            "@type": "Person",
            "name": "AUnhurian"
        },
        "applicationCategory": "DeveloperApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "featureList": [
            "AI-powered content enhancement",
            "Live Markdown preview",
            "Redmine syntax support",
            "Rich formatting toolbar",
            "Keyboard shortcuts",
            "Table generator",
            "Dark/Light theme",
            "OpenAI integration"
        ]
    }
    </script>
</head>
<body>
    <div class="app">
        <header class="toolbar">
            <h1>Reddown</h1>
            <div class="toolbar-actions">
                <button id="ai-btn" title="AI Enhancement">ü§ñ AI</button>
                <button id="help-btn" title="Keyboard shortcuts">‚å®Ô∏è Help</button>
                <button id="save-btn" title="Save as .md file">üíæ Save</button>
                <button id="copy-btn" title="Copy to clipboard">üìã Copy</button>
                <button id="clear-btn" title="Clear editor">üóëÔ∏è Clear</button>
                <button id="theme-btn" title="Toggle theme">üåô Theme</button>
            </div>
        </header>

        <div class="editor-container">
            <div class="editor-panel">
                <div class="panel-header">
                    <h3>Markdown Editor</h3>
                    <div class="mode-toggle">
                        <label class="toggle-switch">
                            <input type="checkbox" id="markdown-mode" checked>
                            <span class="toggle-slider"></span>
                            <span class="toggle-label">
                                <span class="mode-text" data-mode="redmine">Redmine</span>
                                <span class="mode-text" data-mode="standard">Standard</span>
                            </span>
                        </label>
                    </div>
                </div>
                <div class="formatting-toolbar">
                    <div class="toolbar-group">
                        <button id="bold-btn" title="Bold (Cmd+B)" class="format-btn">**B**</button>
                        <button id="italic-btn" title="Italic (Cmd+I)" class="format-btn">*I*</button>
                        <button id="underline-btn" title="Underline (Cmd+U)" class="format-btn">_U_</button>
                        <button id="code-btn" title="Inline Code (Cmd+M)" class="format-btn">`C`</button>
                    </div>
                    <div class="toolbar-group">
                        <button id="h1-btn" title="Heading 1 (Cmd+1)" class="format-btn">H1</button>
                        <button id="h2-btn" title="Heading 2 (Cmd+2)" class="format-btn">H2</button>
                        <button id="h3-btn" title="Heading 3 (Cmd+3)" class="format-btn">H3</button>
                    </div>
                    <div class="toolbar-group">
                        <button id="ul-btn" title="Unordered List (Cmd+Shift+L)" class="format-btn">‚Ä¢ List</button>
                        <button id="ol-btn" title="Ordered List (Cmd+Shift+O)" class="format-btn">1. List</button>
                    </div>
                    <div class="toolbar-group">
                        <button id="link-btn" title="Insert Link (Cmd+K)" class="format-btn">üîó Link</button>
                        <button id="image-btn" title="Insert Image (Cmd+Shift+I)" class="format-btn">üñºÔ∏è Image</button>
                        <button id="table-btn" title="Insert Table (Cmd+Shift+T)" class="format-btn">üìä Table</button>
                        <button id="codeblock-btn" title="Code Block (Cmd+Shift+C)" class="format-btn">``` Code</button>
                    </div>
                </div>
                <div id="monaco-editor"></div>
            </div>

            <div class="preview-panel">
                <div class="panel-header">
                    <h3>Live Preview</h3>
                </div>
                <div id="preview-content"></div>
            </div>
        </div>
    </div>

    <!-- Table Generator Modal -->
    <div id="table-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create Table</h3>
                <button id="close-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="table-controls">
                    <label>
                        Rows: <input type="number" id="table-rows" value="3" min="1" max="20">
                    </label>
                    <label>
                        Columns: <input type="number" id="table-cols" value="3" min="1" max="10">
                    </label>
                    <button id="generate-table-structure">Generate Structure</button>
                </div>
                <div id="table-editor"></div>
                <div class="modal-actions">
                    <button id="insert-table" class="primary-btn">Insert Table</button>
                    <button id="cancel-table" class="secondary-btn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Settings Modal -->
    <div id="ai-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>AI Enhancement Settings</h3>
                <button id="close-ai-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="ai-settings">
                    <div class="setting-group">
                        <label for="openai-key">OpenAI API Key:</label>
                        <input type="password" id="openai-key" placeholder="sk-..."
                               title="Your OpenAI API key will be stored locally">
                        <small>Your API key is stored securely in your browser and never sent to our servers.</small>
                    </div>

                    <div class="setting-group">
                        <h4>What AI Enhancement Does:</h4>
                        <ul class="ai-features">
                            <li>Improves markdown formatting and structure</li>
                            <li>Maintains all original content and meaning</li>
                            <li>Preserves all links, images, and file references</li>
                            <li>Applies mode-specific syntax (Redmine or Standard)</li>
                            <li>Enhances readability with better organization</li>
                            <li>Adds proper spacing and formatting</li>
                        </ul>
                    </div>
                </div>

                <div class="modal-actions">
                    <button id="save-ai-settings" class="primary-btn">Save Settings</button>
                    <button id="enhance-now" class="secondary-btn" disabled>ü§ñ Enhance Current Content</button>
                    <button id="cancel-ai-settings" class="secondary-btn">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-modal" class="modal">
        <div class="modal-content help-modal">
            <div class="modal-header">
                <h3>Keyboard Shortcuts</h3>
                <button id="close-help-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="shortcuts-grid">
                    <div class="shortcuts-section">
                        <h4>Text Formatting</h4>
                        <div class="shortcut"><kbd>Cmd+B</kbd> <span>Bold text</span></div>
                        <div class="shortcut"><kbd>Cmd+I</kbd> <span>Italic text</span></div>
                        <div class="shortcut"><kbd>Cmd+U</kbd> <span>Underline text</span></div>
                        <div class="shortcut"><kbd>Cmd+M</kbd> <span>Inline code</span></div>
                    </div>

                    <div class="shortcuts-section">
                        <h4>Headings</h4>
                        <div class="shortcut"><kbd>Cmd+1</kbd> <span>Heading 1</span></div>
                        <div class="shortcut"><kbd>Cmd+2</kbd> <span>Heading 2</span></div>
                        <div class="shortcut"><kbd>Cmd+3</kbd> <span>Heading 3</span></div>
                        <div class="shortcut"><kbd>Cmd+4</kbd> <span>Heading 4</span></div>
                        <div class="shortcut"><kbd>Cmd+5</kbd> <span>Heading 5</span></div>
                        <div class="shortcut"><kbd>Cmd+6</kbd> <span>Heading 6</span></div>
                    </div>

                    <div class="shortcuts-section">
                        <h4>Lists</h4>
                        <div class="shortcut"><kbd>Cmd+Shift+L</kbd> <span>Unordered list</span></div>
                        <div class="shortcut"><kbd>Cmd+Shift+O</kbd> <span>Ordered list</span></div>
                    </div>

                    <div class="shortcuts-section">
                        <h4>Insertions</h4>
                        <div class="shortcut"><kbd>Cmd+K</kbd> <span>Insert link</span></div>
                        <div class="shortcut"><kbd>Cmd+Shift+I</kbd> <span>Insert image</span></div>
                        <div class="shortcut"><kbd>Cmd+Shift+C</kbd> <span>Code block</span></div>
                        <div class="shortcut"><kbd>Cmd+Shift+T</kbd> <span>Insert table</span></div>
                    </div>

                    <div class="shortcuts-section">
                        <h4>Editing</h4>
                        <div class="shortcut"><kbd>Cmd+D</kbd> <span>Duplicate line</span></div>
                        <div class="shortcut"><kbd>Cmd+Delete</kbd> <span>Delete line</span></div>
                        <div class="shortcut"><kbd>Alt+‚Üë</kbd> <span>Move line up</span></div>
                        <div class="shortcut"><kbd>Alt+‚Üì</kbd> <span>Move line down</span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Diff Modal -->
    <div id="ai-diff-modal" class="modal">
        <div class="modal-content diff-modal">
            <div class="modal-header">
                <h3>AI Enhancement Preview</h3>
                <button id="close-diff-modal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="diff-container">
                    <div class="diff-panel">
                        <h4>Original Content</h4>
                        <div id="original-content" class="diff-content"></div>
                    </div>
                    <div class="diff-panel">
                        <h4>Enhanced Content</h4>
                        <div id="enhanced-content" class="diff-content"></div>
                    </div>
                </div>
                <div class="diff-stats">
                    <span id="diff-summary"></span>
                </div>
                <div class="modal-actions">
                    <button id="apply-changes" class="primary-btn">‚úÖ Apply Changes</button>
                    <button id="reject-changes" class="secondary-btn">‚ùå Reject Changes</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
